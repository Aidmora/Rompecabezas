<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rompecabezas - Selección de Nivel</title>
    <!-- Estilos Globales (Variables y Base) -->
    <link rel="stylesheet" href="../css/styles.css">
    <!-- Estilos Específicos de esta pantalla -->
    <link rel="stylesheet" href="seleccion.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    
    <!-- ========================================== -->
    <!-- 1. RECURSOS GLOBALES SVG (CRÍTICO PARA LA MASCOTA) -->
    <!-- ========================================== -->
    <svg width="0" height="0" style="position: absolute; overflow: hidden;" aria-hidden="true">
        <defs>
            <!-- Icono de Check para la selección -->
            <symbol id="icon-check" viewBox="0 0 24 24">
                <path fill="currentColor" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
            </symbol>

            <!-- Gradientes de la Mascota (Copiados del index para que funcionen aquí) -->
            <linearGradient id="globalSuitGradient" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1"/><stop offset="50%" style="stop-color:#2563EB;stop-opacity:1"/><stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalCapeGradient" x1="50%" y1="0%" x2="50%" y2="100%"><stop offset="0%" style="stop-color:#EF4444;stop-opacity:1"/><stop offset="100%" style="stop-color:#991B1B;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalSkinGradient" x1="0%" y1="0%" x2="100%" y2="50%"><stop offset="0%" style="stop-color:#FFE4C4;stop-opacity:1"/><stop offset="100%" style="stop-color:#F5C19B;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalGoldGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FCD34D;stop-opacity:1"/><stop offset="50%" style="stop-color:#F59E0B;stop-opacity:1"/><stop offset="100%" style="stop-color:#B45309;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalMetalGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#E5E7EB;stop-opacity:1"/><stop offset="50%" style="stop-color:#9CA3AF;stop-opacity:1"/><stop offset="100%" style="stop-color:#4B5563;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalBlueEye" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#60A5FA;stop-opacity:1"/><stop offset="100%" style="stop-color:#2563EB;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalDogFur" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1"/><stop offset="100%" style="stop-color:#B45309;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalAltSuit" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#10B981;stop-opacity:1"/><stop offset="100%" style="stop-color:#047857;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalAltCape" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1"/><stop offset="100%" style="stop-color:#5B21B6;stop-opacity:1"/></linearGradient>
            <linearGradient id="globalSkinGradientAlt" x1="0%" y1="0%" x2="100%" y2="50%"><stop offset="0%" style="stop-color:#FFE4C4;stop-opacity:1"/><stop offset="100%" style="stop-color:#F5C19B;stop-opacity:1"/></linearGradient>
        </defs>
    </svg>

    <!-- Fondo -->
    <div class="bg-pattern" aria-hidden="true"></div>

    <!-- Panel Usuario -->
    <div class="user-info-panel">
        <div class="info-item"><strong>Guest</strong></div>
        <div class="info-item">Time: <span id="user-time-display">--</span></div>
        <div class="info-item">Nivel: <span id="user-level-display">--</span></div>
    </div>

    <!-- Contenido Principal -->
    <main class="game-container centered-layout">
        
        <header class="page-header">
            <h1 class="title-cartoon">Selecciona tu imagen</h1>
        </header>

        <!-- Grilla de Imágenes -->
       <section class="selection-grid" aria-label="Galería de imágenes para el rompecabezas">
            
            <!-- Tarjeta 1: Perrito -->
            <button class="image-card" data-img-url="../assets/images/perro.jpg" aria-label="Seleccionar imagen de Perrito">
                <!-- Usamos rutas relativas locales -->
                <img src="../assets/images/perro.jpg" alt="Ilustración de un perrito tierno" onerror="this.src='https://placehold.co/400x400?text=Perro'">
                <div class="selection-overlay">
                    <svg class="check-icon"><use xlink:href="#icon-check"></use></svg>
                </div>
                <div class="card-label"> Perrito</div>
            </button>

            <!-- Tarjeta 2: Gatito -->
            <button class="image-card" data-img-url="../assets/images/gato.jpg" aria-label="Seleccionar imagen de Gatito">
                <img src="../assets/images/gato.jpg" alt="Ilustración de un gatito adorable" onerror="this.src='https://placehold.co/400x400?text=Gato'">
                <div class="selection-overlay">
                    <svg class="check-icon"><use xlink:href="#icon-check"></use></svg>
                </div>
                <div class="card-label"> Gatito</div>
            </button>

            <!-- Tarjeta 3: Paisaje -->
            <button class="image-card" data-img-url="../assets/images/paisaje.jpg" aria-label="Seleccionar imagen de Paisaje Natural">
                <img src="../assets/images/paisaje.jpg" alt="Paisaje natural estilo cartoon" onerror="this.src='https://placehold.co/400x400?text=Paisaje'">
                <div class="selection-overlay">
                    <svg class="check-icon"><use xlink:href="#icon-check"></use></svg>
                </div>
                <div class="card-label"> Paisaje</div>
            </button>

            <!-- Tarjeta 4: Números -->
            <button class="image-card" data-img-url="../assets/images/numeros.jpg" aria-label="Seleccionar imagen de Números Coloridos">
                <img src="../assets/images/numeros.png" alt="Números educativos de colores" onerror="this.src='https://placehold.co/400x400?text=Numeros'">
                <div class="selection-overlay">
                    <svg class="check-icon"><use xlink:href="#icon-check"></use></svg>
                </div>
                <div class="card-label"> Números</div>
            </button>

            <!-- Tarjeta 5: Arte Abstracto/Colores -->
            <button class="image-card" data-img-url="../assets/images/colores.jpg" aria-label="Seleccionar imagen de Colores y Formas">
                <img src="../assets/images/colores.jpg" alt="Arte abstracto colorido" onerror="this.src='https://placehold.co/400x400?text=Colores'">
                <div class="selection-overlay">
                    <svg class="check-icon"><use xlink:href="#icon-check"></use></svg>
                </div>
                <div class="card-label"> Colores</div>
            </button>

            <!-- Tarjeta 6: Héroe -->
            <button class="image-card" data-img-url="../assets/images/heroe.jpg" aria-label="Seleccionar imagen de Superhéroe">
                <img src="../assets/images/heroe.jpg" alt="Personaje superhéroe" onerror="this.src='https://placehold.co/400x400?text=Heroe'">
                <div class="selection-overlay">
                    <svg class="check-icon"><use xlink:href="#icon-check"></use></svg>
                </div>
                <div class="card-label"> Héroe</div>
            </button>

        </section>

        <!-- Botonera -->
        <div class="actions-container">
            <button class="btn btn-large btn-return" id="btn-back">Regresar</button>
            <!-- El botón Continuar está deshabilitado por defecto -->
            <button id="btn-continue" class="btn btn-large btn-primary" disabled aria-disabled="true">
                Continuar
            </button>
        </div>

    </main>

    <!-- Asistente Virtual -->
    <aside class="mascot-section" aria-labelledby="mascot-text">
        <div class="speech-bubble" id="mascot-text" role="status">
            ¡Elige la imagen que más te guste para jugar!
        </div>
        <div id="global-mascot-container" class="mascot-vector-container">
            <!-- El JS llenará esto con tu avatar personalizado -->
        </div>
    </aside>

    <script src="../js/seleccion.js"></script>
</body>
</html>